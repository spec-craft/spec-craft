# 技术设计: {{feature}}

> 创建时间: {{createdAt}}

## 设计概述

<!-- 用一段话描述整体的技术方案 -->

## 架构设计

### 系统架构

<!-- 使用图表或文字描述系统的整体架构 -->

```
[前端] <-> [API网关] <-> [服务层] <-> [数据层]
```

### 模块划分

1. **模块1**
   - 职责：
   - 接口：
   - 依赖：

2. **模块2**
   - 职责：
   - 接口：
   - 依赖：

## 数据设计

### 数据模型

```typescript
interface Model1 {
  // 字段定义
}

interface Model2 {
  // 字段定义
}
```

### 数据库设计

**表1: table_name**

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | bigint | 主键 | PK |
| name | varchar(255) | 名称 | NOT NULL |

### 数据流

<!-- 描述数据如何在系统中流动 -->

## 接口设计

### API 接口

**接口1: POST /api/{{feature}}/action**

请求：
```json
{
  "param1": "value1",
  "param2": "value2"
}
```

响应：
```json
{
  "success": true,
  "data": {}
}
```

**接口2: GET /api/{{feature}}/resource**

查询参数：
- `id`: 资源ID

响应：
```json
{
  "success": true,
  "data": {}
}
```

### 内部接口

<!-- 模块间的接口定义 -->

## 技术选型

### 技术栈

- 前端：
- 后端：
- 数据库：
- 缓存：
- 消息队列：

### 第三方库

- 库1：用途
- 库2：用途

### 选型理由

<!-- 为什么选择这些技术？ -->

## 关键流程

### 流程1: [流程名称]

1. 步骤1
2. 步骤2
3. 步骤3

```
用户 -> 系统 -> 处理 -> 返回
```

### 流程2: [流程名称]

<!-- 描述关键的业务流程 -->

## 性能设计

### 性能目标

- 响应时间：< 200ms (P95)
- 吞吐量：> 1000 QPS
- 并发：支持 10000 并发用户

### 性能优化

- 缓存策略：
- 数据库优化：
- 异步处理：

## 安全设计

### 认证与授权

- 认证方式：
- 授权模型：

### 数据安全

- 加密：
- 脱敏：
- 审计：

### 防护措施

- 防止注入攻击：
- 防止 XSS：
- 防止 CSRF：

## 可扩展性

### 横向扩展

<!-- 如何支持水平扩展 -->

### 纵向扩展

<!-- 如何支持垂直扩展 -->

## 监控与运维

### 监控指标

- 业务指标：
- 技术指标：
- 告警策略：

### 日志

- 日志级别：
- 日志格式：
- 日志存储：

## 测试策略

### 单元测试

- 覆盖范围：
- 测试工具：

### 集成测试

- 测试场景：
- 测试环境：

### 性能测试

- 测试指标：
- 测试工具：

## 部署方案

### 部署架构

<!-- 描述部署的架构 -->

### 部署流程

1. 构建
2. 测试
3. 发布
4. 回滚策略

## 风险与挑战

### 技术风险

1. [风险1] - 缓解措施：
2. [风险2] - 缓解措施：

### 技术债务

<!-- 当前设计中的技术债务 -->

## 后续优化

<!-- 未来可以优化的方向 -->

## 下一步

运行 `craft run feature-dev tasks -i {{feature}}` 生成任务列表。
